openapi: 3.0.3
info:
  version: 1.0.0
  title: DCSA Operational Vessel Schedule Hub Terminal Timestamp API
  description: |
    <h1>DCSA OpenAPI specification for Terminal Data upload for OVS Hub (Operational Vessel Schedule Hub)</h1>

    This API is intended as an API between a terminal and OVS Hub (Operational Vessel Schedule Hub). The purpose of the API is for terminals to be able to provide `ETA`/`ETD`/`ATA` and `ATD` timestamps near-to-realtime to OVS Hub.

    ### API Design & Implementation Principles
    This API follows the guidelines defined in version 2.0 of the API Design & Implementation Principles which can be found on the [DCSA Developer Portal](https://developer.dcsa.org/api_design)

    ### Changelog and GitHub
    For a changelog, please click [here](https://github.com/dcsaorg/DCSA-OpenAPI/tree/master/ovs_hub_ter/v1#v100). If you have any questions, feel free to send an email to [ovshub-support@dcsa.org](mailto:ovshub-support@dcsa.org).

    API specification issued by [DCSA.org](https://dcsa.org/).
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
  contact:
    name: Digital Container Shipping Association (DCSA)
    url: 'https://dcsa.org'
    email: info@dcsa.org
tags:
  - name: Terminal Timestamp
    description: Terminal Timestamp endPoint for providing near realtime `ETA`/`ETD`/`ATA` and `ATD` data
  - name: Terminal Schedules
    description: Terminal Schedules endPoint for fetching `ETA`/`ETD`/`ATA` and `ATD` data for Services
paths:
  /v1/terminal-timestamps:
    post:
      tags:
        - Terminal Timestamp
      summary: |
        Send Timestamp
      operationId: send-terminal-timestamps
      description: |
        This endpoint can be used by terminals to provide carriers with event timestamps around its port call, as and when they become available in the terminal systems. These timestamps could for example include `ETA`/`ETD`/`ATA`/`ATD` at berth.
      requestBody:
        description: |
          Properties to be included when sending `Timestamps`
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TerminalTimestamp'
            examples:
              sendETANoTransportCallExample:
                summary: |
                  Send an `ETA` timestamp not using `transportCallReference`
                description: |
                  Send an `ETA` timestamp for the Vessel: `Jacques Saadé` arriving at `Amsterdam Port` on the 18 of August 2025 at 18.00 Amsterdam time. This example does not include a `transportCallReference`.
                value:
                  carrierServiceName: 'French Asia Line 3'
                  carrierServiceCode: 'AEU6'
                  universalServiceReference: 'SR12345A'
                  vesselOperatorSMDGLinerCode: 'CMA'
                  vesselIMONumber: '9839179'
                  vesselMMSINumber: '228386700'
                  vesselName: 'Jacques Saadé'
                  carrierImportVoyageNumber: '2508N'
                  carrierExportVoyageNumber: '2508S'
                  universalImportVoyageReference: '2508N'
                  universalExportVoyageReference: '2508S'
                  UNLocationCode: 'NLAMS'
                  facilitySMDGCode: 'NLAMS'
                  timestampClassifierCode: 'EST'
                  timestampTypeCode: 'ARRI'
                  timestampPositionCode: 'PORT'
                  timestampDateTime: '2025-08-18T18:00:00+01:00'
              sendETATransportCallExample:
                summary: |
                  Send an `ETA` timestamp with a `transportCallReference`
                description: |
                  Send an `ETA` timestamp for the `transportCallReference: SR11111X-9321483-2107W-NLRTM-HPD2-1-1` as per the 18 of August 2025 at 18.00 Amsterdam time.
                value:
                  transportCallReference: 'SR11111X-9321483-2107W-NLRTM-HPD2-1-1'
                  vesselOperatorSMDGLinerCode: 'CMA'
                  timestampClassifierCode: 'EST'
                  timestampTypeCode: 'ARRI'
                  timestampPositionCode: 'PORT'
                  timestampDateTime: '2025-08-18T18:00:00+01:00'
              sendATDExample:
                summary: |
                  Send an `ATD` timestamp with a `transportCallReference`
                description: |
                  Send an `ATD` timestamp for the `transportCallReference: SR11111X-9321483-2107W-NLRTM-HPD2-1-1`  as per the 20 of August 2025 at 18.00 Amsterdam time.
                value:
                  transportCallReference: 'SR11111X-9321483-2107W-NLRTM-HPD2-1-1'
                  vesselOperatorSMDGLinerCode: 'CMA'
                  timestampClassifierCode: 'ACT'
                  timestampTypeCode: 'DEPA'
                  timestampPositionCode: 'PORT'
                  timestampDateTime: '2025-08-20T18:00:00+01:00'
      responses:
        '200':
          description: |
            The `Terminal Timestamp` has been accepted by the OVS Hub.
          headers:
            API-Version:
              $ref: '#/components/headers/API-Version'
        '400':
          description: |
            In case the `Terminal Timestamp` does not schema validate a `400` (Bad Request) is returned.
          headers:
            API-Version:
              $ref: '#/components/headers/API-Version'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                badRequestExample:
                  summary: |
                    Terminal Timestamp missing carrierServiceName
                  description: |
                    `carrierServiceName` is a mandatory property when providing a Timestamp when no `TransportCall` is provided. In case this property is missing an error object is created.

                    **NB**: The `errorCode` is not yet standardized by DCSA. The value `7003` is just a "random example".
                  value:
                    httpMethod: POST
                    requestUri: /v1/terminal-timestamps
                    statusCode: 400
                    statusCodeText: Bad Request
                    statusCodeMessage: carrierServiceName not found - it is a mandatory property in Terminal Timestamp when no TransportCall is provided
                    providerCorrelationReference: 4426d965-0dd8-4005-8c63-dc68b01c4962
                    errorDateTime: '2025-08-18T12:34:00Z'
                    errors:
                      - errorCode: 7003
                        property: carrierServiceName
                        errorCodeText: conditional-mandatory property missing
                        errorCodeMessage: carrierServiceName must be provided as part of Terminal Timestamp if no TransportCall is provided
        '500':
          description: |
            In case a server error occurs in OVS Hub a `500` (Internal Server Error) is returned
          headers:
            API-Version:
              $ref: '#/components/headers/API-Version'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                internalServerErrorExample:
                  summary: |
                    Internal Server Error while processing Terminal Timestamp
                  description: |
                    An Internal Server Error has occurred - the consumer should contact `ovshub-support@dcsa.org` and provide the `providerCorrelationReference` (in the example this is `4426d965-0dd8-4005-8c63-dc68b01c4962`)

                    **NB**: The `errorCode` is not yet standardized by DCSA. The value `7003` is just a "random example".
                  value:
                    httpMethod: POST
                    requestUri: /v1/terminal-timestamps
                    statusCode: 500
                    statusCodeText: Internal Server Error
                    statusCodeMessage: Internal Server Error occurred while processing Terminal Timestamp request
                    providerCorrelationReference: 4426d965-0dd8-4005-8c63-dc68b01c4962
                    errorDateTime: '2025-08-18T12:34:00Z'
                    errors:
                      - errorCode: 7003
                        errorCodeText: Internal Error occurred
                        errorCodeMessage: Internal Error occurred
        default:
          description: |
            For other errors the error object should be populated with relevant information
          headers:
            API-Version:
              $ref: '#/components/headers/API-Version'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                tooManyRequestsExample:
                  summary: |
                    Sending too many timestamps
                  description: |
                    Calling the endPoint

                        POST /v1/terminal-timestamps
                        
                    too many times within a time period results in an error.

                    **NB**: The `errorCode` is not yet standardized by DCSA. The value `7003` is just a "random example".
                  value:
                    httpMethod: POST
                    requestUri: /v1/terminal-timestamps
                    statusCode: 429
                    statusCodeText: Too Many Requests
                    statusCodeMessage: Too many Timestamps has been sent. Please try again in 1 hour
                    providerCorrelationReference: 4426d965-0dd8-4005-8c63-dc68b01c4962
                    errorDateTime: '2025-08-18T12:34:00Z'
                    errors:
                      - errorCode: 7003
                        errorCodeText: Max sending of Terminal Timestamps reached
                        errorCodeMessage: A maximum of 10 Terminal Timestamp requests can be sent per hour
  /v1/terminal-schedules:
    get:
      tags:
      - Terminal Schedules
      summary: |
        Get a list of Terminal Schedules
      operationId: get-terminal-schedules
      description: |
        Get a list of terminal service schedules.
      parameters:
      - name: carrierServiceCode
        in: query
        description: |
          The carrier specific service code to filter by. The result will only return schedules including the service code.
        schema:
          type: string
          maxLength: 11
          example: FE1
      - name: startDate
        in: query
        description: |
          The start date of the period for which schedule information is requested. If a date of any Timestamp (ATA, ETA or PTA) inside a Schedule matches a date on or after (≥) the `startDate` the entire Voyage (import- and export-Voyage) matching the PortCall will be included in the result. All matching is done towards local Date at the place of the port call.
          If this filter is not provided, the default value is **3 months** prior to the request time.
        schema:
          type: string
          format: date
          example: 2020-04-06
      - name: endDate
        in: query
        description: |
          The end date of the period for which schedule information is requested. If a date of any Timestamp (ATA, ETA or PTA) inside a Schedule matches a date on or before (≤) the `endDate` the entire Voyage(import- and export-Voyage) matching the PortCall will be included in the result. All matching is done towards local Date at the place of the port call.
          If this filter is not provided, the default value is **6 months** after the request time.
        schema:
          type: string
          format: date
          example: 2020-04-10
      - name: limit
        in: query
        description: |
          Specifies the maximum number of `Terminal Schedule` objects to return.
        schema:
          type: integer
          format: int32
          minimum: 0
          default: 100
          example: 100
      - name: cursor
        in: query
        description: |
          A server generated value to specify a specific point in a collection result, used for pagination.
        schema:
          type: string
          maxLength: 1024
          example: fE9mZnNldHw9MTAmbGltaXQ9MTA
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServiceSchedule'
          headers:
            API-Version:
              $ref: '#/components/headers/API-Version'
            Next-Page-Cursor:
              schema:
                type: string
                maxLength: 1024
                example: fE9mZnNldHw9MTAmbGltaXQ9MTA
              description: |
                The Next-Page-Cursor header contains a cursor value that points to the next page of results in a paginated API response.
                When an initial `GET` endpoint request includes the query parameter `limit=...` the API provider limits the number of items in the root array of the response to the specified limit. If the response would contain more items than the specified limit, the API provider includes only the first set of limit items and appends the following response header:
                `Next-Page-Cursor=fE9mZnNldHw9MTAmbGltaXQ9MTA`, a string that acts as a reference for the next page of results. The cursor value is used in subsequent requests to retrieve the next page by passing it as a query parameter: `?cursor=fE9mZnNldHw9MTAmbGltaXQ9MTA`.

                To retrieve the next page, the API consumer sends a `GET` request to the endpoint URL with only `?cursor=fE9mZnNldHw9MTAmbGltaXQ9MTA` as query parameter. The limit of items per page and any other query parameters may not be altered and MUST be preserved when requesting subsequent pages.
        '400':
          description: Bad Request
          headers:
            API-Version:
              schema:
                type: string
                example: 1.0.0
              description: |
                SemVer used to indicate the version of the contract (API version) returned.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                Example 1:
                  value:
                    httpMethod: GET
                    requestUri: /v1/terminal-schedules
                    statusCode: 400
                    statusCodeText: Bad Request
                    providerCorrelationReference: 4426d965-0dd8-4005-8c63-dc68b01c4962
                    errorDateTime: 2019-11-12T07:41:00+08:30
                    errors:
                      - errorCode: 7007
                        errorCodeText: invalidQuery
                        errorCodeMessage: UNLocationCode does not exist
        '500':
          description: Internal Server Error
          headers:
            API-Version:
              schema:
                type: string
                example: 1.0.0
              description: |
                SemVer used to indicate the version of the contract (API version) returned.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
              examples:
                Example 1:
                  value:
                    httpMethod: GET
                    requestUri: /v1/terminal-schedules
                    statusCode: 500
                    statusCodeText: Internal Server Error
                    statusCodeMessage: Cannot process request.
                    providerCorrelationReference: 4426d965-0dd8-4005-8c63-dc68b01c4962
                    errorDateTime: 2019-11-12T07:41:00+08:30
                    errors:
                      - errorCode: 7003
                        errorCodeText: Internal Server Error
                        errorCodeMessage: An internal error occurred.

components:
  headers:
    API-Version:
      schema:
        type: string
        example: 1.0.0
      description: |
        SemVer used to indicate the version of the contract (API version) returned.
      required: true
  schemas:
    ServiceSchedule:
      title: Service Schedule
      type: object
      description: |
        Schedules for services.
      properties:
        carrierServiceName:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          description: |
            The carrier-specific name of the service.
          example: Great Lion Service
        carrierServiceCode:
          type: string
          maxLength: 11
          pattern: ^\S(?:.*\S)?$
          description: |
            The carrier-specific code of the service.
          example: FE1
        universalServiceReference:
          type: string
          maxLength: 8
          minLength: 8
          pattern: "^SR\\d{5}[A-Z]$"
          description: |
            A global unique service reference, as per DCSA standard, agreed by VSA partners for the service. The service reference must match the regular expression pattern: `SR\\d{5}[A-Z]`. The letters `SR` followed by `5 digits`, followed by a checksum-character as a capital letter from `A to Z`.
          example: SR12345A
        vesselSchedules:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/VesselSchedule'
      required:
      - carrierServiceName
      - carrierServiceCode
      - vesselSchedules

    VesselSchedule:
      title: Vessel Schedule
      type: object
      description: |
        Vessel and its TerminalCalls.
      properties:
        vesselOperatorSMDGLinerCode:
          type: string
          maxLength: 10
          description: |
            The carrier who is in charge of the vessel operation based on the SMDG code.
            
            If not available at the moment of sharing the schedule, use `TBD` (To be defined).
            
            In the case an operator is still using a code not from SMDG, use the available code.
          example: HLC
        vesselIMONumber:
          type: string
          pattern: ^\d{7,8}$
          minLength: 7
          maxLength: 8
          description: |
            The unique reference for a registered Vessel. The reference is the International Maritime Organisation (IMO) number, also sometimes known as the Lloyd&apos;s register code, which does not change during the lifetime of the vessel.
          example: '9321483'
        MMSINumber:
          type: string
          pattern: ^\d{9}$
          minLength: 9
          maxLength: 9
          description: |
            Maritime Mobile Service Identities (MMSIs) are nine-digit numbers used by maritime digital selective calling (DSC), automatic identification systems (AIS) and certain other equipment to uniquely identify a ship or a coast radio station.
          example: '278111222'
        vesselName:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          description: |
            The name of the Vessel given by the Vessel Operator and registered with IMO.
          example: King of the Seas
        vesselCallSign:
          type: string
          maxLength: 10
          pattern: ^\S(?:.*\S)?$
          description: |
            A unique alphanumeric identity that belongs to the vessel and is assigned by the International Telecommunication Union (ITU). It consists of a threeletter alphanumeric prefix that indicates nationality, followed by one to four characters to identify the individual vessel. For instance, vessels registered under Denmark are assigned the prefix ranges 5PA-5QZ, OUAOZZ, and XPA-XPZ. The Call Sign changes whenever a vessel changes its flag.
          example: NCVV
        transportCalls:
          type: array
          description: |
            **Note:** The order of the list is the sequence of the list.
          minItems: 1
          items:
            $ref: '#/components/schemas/TransportCall'
      required:
      - vesselOperatorSMDGLinerCode
      - transportCalls

    TransportCall:
      title: Transport Call
      type: object
      description: |
        A transportCall in the schedule. A transportCall can be either just a Port or further specified as a terminalCall.
      properties:
        portVisitReference:
          type: string
          maxLength: 50
          description: |
            The unique reference that can be used to link different `transportCallReferences` to the same port visit. The reference is provided by the port to uniquely identify a port call
          example: NLAMS1234589
        transportCallReference:
          type: string
          maxLength: 100
          description: |
            The unique reference for a transport call. It's the vessel operator's responsibility to provide the Transport Call Reference, other parties are obliged to pick it up and use it. It can take the form of Port Call References as defined in OVS Definitions Document, or alternatively a reference as defined by the vessel operator.
          example: SR11111X-9321483-2107W-NLAMS-ACT-1-1
        carrierImportVoyageNumber:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          description: |
            The identifier of an import voyage. The carrier-specific identifier of the import Voyage.
          example: 2103N
        carrierExportVoyageNumber:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          description: |
            The identifier of an export voyage. The carrier-specific identifier of the export Voyage.
          example: 2103S
        universalImportVoyageReference:
          type: string
          minLength: 5
          maxLength: 5
          pattern: ^\d{2}[0-9A-Z]{2}[NEWSR]$
          description: |
            A global unique voyage reference for the import Voyage, as per DCSA standard, agreed by VSA partners for the voyage. The voyage reference must match the regular expression pattern `\d{2}[0-9A-Z]{2}[NEWSR]`:
            - `2 digits` for the year
            - `2 alphanumeric characters` for the sequence number of the voyage
            - `1 character` for the direction/haul (`N`orth, `E`ast, `W`est, `S`outh or `R`oundtrip)
          example: 2103N
        universalExportVoyageReference:
          type: string
          minLength: 5
          maxLength: 5
          pattern: ^\d{2}[0-9A-Z]{2}[NEWSR]$
          description: |
            A global unique voyage reference for the export Voyage, as per DCSA standard, agreed by VSA partners for the voyage. The voyage reference must match the regular expression pattern `\d{2}[0-9A-Z]{2}[NEWSR]`:
            - `2 digits` for the year
            - `2 alphanumeric characters` for the sequence number of the voyage
            - `1 character` for the direction/haul (`N`orth, `E`ast, `W`est, `S`outh or `R`oundtrip)
          example: 2103N
        location:
          type: object    
          title: 'Location'      
          description: |
            An object to capture the location of the timestamp(s).

            The location can be specified in **any** of the following ways: `UN Location Code` or `Facility SMDG Code`.

            **Condition:** It is expected that if a location is specified in multiple ways (e.g. both as an `UN Location Code` and as a `Facility SMDG Code`) that both ways point to the same location.
          example:
            locationName: Hamburg
            UNLocationCode: DEHAM
          properties:
            locationName:
              type: string
              description: The name of the location.
              pattern: ^\S(?:.*\S)?$
              example: Port of Amsterdam
              maxLength: 100
            facilityName:
              maxLength: 100
              type: string
              description: The name of the facility.
              example: Building 123
            facilitySMDGCode:
              type: string
              description: |
                The code used for identifying the specific facility. This code does not include the UN Location Code.

                The codeList used by SMDG is the [SMDG Terminal Code List](https://smdg.org/wp-content/uploads/Codelists/Terminals/SMDG-Terminal-Code-List-v20210401.xlsx)
              maxLength: 6
              example: ACT
            UNLocationCode:
              type: string
              pattern: ^[A-Z]{2}[A-Z2-9]{3}$
              minLength: 5
              maxLength: 5
              description: |
                The UN Location code specifying where the place is located. The pattern used must be

                - 2 characters for the country code using [ISO 3166-1 alpha-2](https://www.iso.org/obp/ui/#iso:pub:PUB500001:en)
                - 3 characters to code a location within that country. Letters A-Z and numbers from 2-9 can be used

                More info can be found here: [UN/LOCODE](https://unece.org/trade/cefact/UNLOCODE-Download)
              example: NLAMS
        timestamps:
          type: array
          minItems: 1
          items:
            $ref: '#/components/schemas/Timestamp'
      required:
      - carrierImportVoyageNumber
      - transportCallReference
      - timestamps

    Timestamp:
      title: Timestamp
      type: object
      description: |
        A Timestamp object to provide `ETA`/`ETD`/`ATA`/`ATD` information.
      properties:
        typeCode:
          type: string
          description: |
            Identifier for type of **Timestamp**. Possible values are:

            - `ARRI` (Arrived)
            - `DEPA` (Departed)
          enum:
            - ARRI
            - DEPA
          example: ARRI
        classifierCode:
          type: string
          description: |
            Code for describing the **Timestamp**.

            Possible values are:
            - `ACT` (Actual)
            - `EST` (Estimated)
          enum:
            - ACT
            - EST
          example: EST
        positionCode:
          type: string
          description: |
            Specification of the location of the arrival or departure. Options are:

            - `PBPL` (Pilot boarding place)
            - `BRTH` (Berth)
            - `ANCH` (Anchorage Location)
            - `PORT` (Port area)
          example: BRTH
        dateTime:
          type: string
          format: date-time
          description: |
            The UTC date and time, when the **Vessel** of a **Port Call** is estimated or has happened.
          example: '2025-08-18T17:41:00+08:30'
      required:
      - typeCode
      - classifierCode
      - positionCode
      - dateTime

    TerminalTimestamp:
      title: Terminal Timestamp
      type: object
      description: |
        A Timestamp object to provide `ETA`/`ETD`/`ATA`/`ATD` information to the OVS Hub. It is necessary to provide either:
          - `transportCallReference`

        or
        - `carrierServiceCode`
        - `vesselIMONumber`
        - `carrierImportVoyageNumber`
        - `UNLocationCode`
        - `facilitySMDGCode`
        
        **Note:** if `transportCallReference` is provided together with any of the other values they will be ignored.
      properties:
        vesselOperatorSMDGLinerCode:
          type: string
          maxLength: 10
          description: |
            The carrier who is in charge of the vessel operation based on the `SMDG` code.
          example: HLC

        carrierServiceName:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          description: |
            The carrier specific name of the service for this `Timestamp`.
          example: Great Lion Service
        carrierServiceCode:
          type: string
          maxLength: 11
          pattern: ^\S(?:.*\S)?$
          description: |
            The carrier specific code of the service for this `Timestamp`.
            
            **Condition:** This must be provided in case `transportCallReference` is not provided.
          example: FE1
        universalServiceReference:
          type: string
          minLength: 8
          maxLength: 8
          pattern: ^SR\d{5}[A-Z]$
          description: |
            A global unique service reference, as per DCSA standard, agreed by VSA partners for the service. The service reference must match the regular expression pattern: `SR\d{5}[A-Z]`. The letters `SR` followed by `5 digits`, followed by a checksum-character as a capital letter from `A to Z`.
          example: SR12345A

        vesselIMONumber:
          type: string
          minLength: 7
          maxLength: 8
          pattern: ^\d{7,8}$
          description: |
            The unique reference for a registered Vessel. The reference is the International Maritime Organisation (`IMO`) number, also sometimes known as the Lloyd's register code, which does not change during the lifetime of the vessel.
            
            **Condition:** This must be provided in case `transportCallReference` is not provided.
          example: '9321483'
        vesselMMSINumber:
          type: string
          minLength: 9
          maxLength: 9
          pattern: ^\d{9}$
          description: |
            Maritime Mobile Service Identities (`MMSI`s) are nine-digit numbers used by maritime Digital Selective Calling (`DSC`), automatic identification systems (`AIS`) and certain other equipment to uniquely identify a ship or a coast radio station.
          example: '278111222'
        vesselName:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          description: |
            The name of the Vessel given by the Vessel Operator and registered with `IMO`.
          example: King of the Seas

        portVisitReference:
          type: string
          maxLength: 50
          description: |
            The unique reference that can be used to link different `transportCallReferences` to the same port visit. The reference is provided by the port to uniquely identify a port call.
          example: NLRTM1234589
        transportCallReference:
          type: string
          maxLength: 100
          description: |
            The unique reference for a transport call. It's the vessel operator's responsibility to provide the `Transport Call Reference`, other parties are obliged to pick it up and use it. It can take the form of Port Call References as defined in OVS Definitions Document, or alternatively a reference as defined by the vessel operator.
            
            **Condition:** Must be provided in case:
              - `carrierServiceCode`
              - `vesselIMONumber`
              - `carrierImportVoyageNumber`
              - `UNLocationCode`
              - `facilitySMDGCode`
            
            are all not provided. If provided - the above properties **will be** ignored.
          example: SR11111X-9321483-2107W-NLRTM-HPD2-1-1
        carrierImportVoyageNumber:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          example: 2103N
          description: |
            The identifier of an import voyage. The carrier-specific identifier of the import Voyage.
            
            **Condition:** This must be provided in case `transportCallReference` is not provided.
        carrierExportVoyageNumber:
          type: string
          maxLength: 50
          pattern: ^\S(?:.*\S)?$
          example: 2103S
          description: |
            The identifier of an export voyage. The carrier-specific identifier of the export Voyage.
        universalImportVoyageReference:
          type: string
          minLength: 5
          maxLength: 5
          pattern: ^\d{2}[0-9A-Z]{2}[NEWSR]$
          description: |
            A global unique voyage reference for the import Voyage, as per DCSA standard, agreed by VSA partners for the voyage.The voyage reference must match the regular expression pattern: `\d{2}[0-9A-Z]{2}[NEWSR]`
 
            - `2 digits` for the year
            - `2 alphanumeric characters` for the sequence number of the voyage
            - `1 character` for the direction/haul (`N`orth, `E`ast, `W`est, `S`outh or `R`oundtrip).
          example: 2103N
        universalExportVoyageReference:
          type: string
          minLength: 5
          maxLength: 5
          pattern: ^\d{2}[0-9A-Z]{2}[NEWSR]$
          description: |
            A global unique voyage reference for the export Voyage, as per DCSA standard, agreed by VSA partners for the voyage.The voyage reference must match the regular expression pattern: `\d{2}[0-9A-Z]{2}[NEWSR]`
 
            - `2 digits` for the year
            - `2 alphanumeric characters` for the sequence number of the voyage
            - `1 character` for the direction/haul (`N`orth, `E`ast, `W`est, `S`outh or `R`oundtrip).
          example: 2103N
            
        UNLocationCode:
          type: string
          minLength: 5
          maxLength: 5
          pattern: ^[A-Z]{2}[A-Z2-9]{3}$
          description: |
            The UN Location code specifying where the place is located. The pattern used must be

            - 2 characters for the country code using [ISO 3166-1 alpha-2](https://www.iso.org/obp/ui/#iso:pub:PUB500001:en)
            - 3 characters to code a location within that country. Letters A-Z and numbers from 2-9 can be used

            More info can be found here: [UN/LOCODE](https://unece.org/trade/cefact/UNLOCODE-Download)
            
            **Condition:** This must be provided in case `transportCallReference` is not provided.
          example: NLAMS
        facilitySMDGCode:
          type: string
          description: |
            The code used for identifying the specific facility. This code does not include the UN Location Code.

            The codeList used by SMDG is the [SMDG Terminal Code List](https://smdg.org/wp-content/uploads/Codelists/Terminals/SMDG-Terminal-Code-List-v20210401.xlsx)
            
            **Condition:** This must be provided in case `transportCallReference` is not provided.
          maxLength: 6
          example: ACT

        timestampClassifierCode:
          type: string
          description: |
            Code for describing the **Timestamp**.

            Possible values are:
            - `ACT` (Actual)
            - `EST` (Estimated)
          enum:
            - ACT
            - EST
          example: EST
        timestampTypeCode:
          type: string
          description: |
            Identifier for type of timestamp. Possible values are:

            - `ARRI` (Arrived)
            - `DEPA` (Departed)
          enum:
            - ARRI
            - DEPA
          example: ARRI
        timestampPositionCode:
          type: string
          description: |
            Specification of the location of the arrival or departure. Options are:
            
            - `PBPL` (Pilot boarding place)
            - `BRTH` (Berth)
            - `ANCH` (Anchorage Location)
            - `PORT` (Port area)
          example: BRTH
        timestampDateTime:
          type: string
          format: date-time
          description: |
            The UTC date and time, when the **Vessel** of a **Port Call** is estimated or has happened.
          example: '2025-08-18T17:41:00+08:30'
      required:
        - vesselOperatorSMDGLinerCode
        - timestampClassifierCode
        - timestampTypeCode
        - timestampPositionCode
        - timestampDateTime

    #################
    # Error Responses
    #################
    ErrorResponse:
      title: Error Response
      type: object
      description: Unexpected error
      properties:
        httpMethod:
          description: |
            The HTTP method used to make the request e.g. `GET`, `POST`, etc
          type: string
          example: POST
          enum:
            - GET
            - HEAD
            - POST
            - PUT
            - DELETE
            - OPTIONS
            - PATCH
        requestUri:
          description: |
            The URI that was requested.
          type: string
          example: /v1/terminal-timestamps
        statusCode:
          description: |
            The HTTP status code returned.
          type: integer
          format: int32
          example: 400
        statusCodeText:
          description: |
            A standard short description corresponding to the HTTP status code.
          type: string
          maxLength: 50
          example: Bad Request
        statusCodeMessage:
          description: |
            A long description corresponding to the HTTP status code with additional information.
          type: string
          maxLength: 200
          example: The supplied data could not be accepted
        providerCorrelationReference:
          description: |
            A unique identifier to the HTTP request within the scope of the Terminal Timestamp API.
          type: string
          maxLength: 100
          example: 4426d965-0dd8-4005-8c63-dc68b01c4962
        errorDateTime:
          description: |
            The DateTime corresponding to the error occurring.
          type: string
          format: date-time
          example: '2024-09-04T09:41:00Z'
        errors:
          type: array
          description: |
            An array of errors providing more detail about the root cause.
          minItems: 1
          items:
            $ref: '#/components/schemas/DetailedError'
      required:
        - httpMethod
        - requestUri
        - statusCode
        - statusCodeText
        - errorDateTime
        - errors

    DetailedError:
      type: object
      title: Detailed Error
      description: |
        A detailed description of what has caused the error.
      properties:
        errorCode:
          type: integer
          format: int32
          description: |
            The detailed error code returned. The codes returned are maintained by the implementor of the API. For further explanation as to the meaning of an errorCode please consult the implementer.

            **Note:** Previously it was the intention of DCSA to standardize this but it never gained traction.
          minimum: 7000
          maximum: 9999
          example: 7003
        property:
          type: string
          maxLength: 100
          description: |
            The name of the property causing the error.
          example: facilityCode
        value:
          type: string
          maxLength: 500
          description: |
            The value of the property causing the error serialised as a string exactly as in the original request.
          example: SG SIN WHS
        jsonPath:
          type: string
          maxLength: 500
          description: |
            A path to the property causing the error, formatted according to [JSONpath](https://github.com/json-path/JsonPath).
          example: $.location.facilityCode
        errorCodeText:
          description: |
            A standard short description corresponding to the `errorCode`.
          type: string
          maxLength: 100
          example: invalidData
        errorCodeMessage:
          type: string
          maxLength: 5000
          description: |
            A long description corresponding to the `errorCode` with additional information.
          example: Spaces not allowed in facility code
      required:
        - errorCodeText
        - errorCodeMessage